<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Data Models" href="models.html"><link rel="prev" title="API Routes" href="routes.html">

    <!-- Generated with Sphinx 7.4.7 and Furo 2025.09.25 -->
        <title>Service Layer - MovieMunchers v1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">MovieMunchers v1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">MovieMunchers v1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="api.html">API Reference</a><input aria-label="Toggle navigation of API Reference" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="routes.html">API Routes</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Service Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Data Models</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/services.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-backend.app.services.customer_service">
<span id="service-layer"></span><h1>Service Layer<a class="headerlink" href="#module-backend.app.services.customer_service" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backend.app.services.customer_service.</span></span><span class="sig-name descname"><span class="pre">CustomerService</span></span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService" title="Link to this definition">¶</a></dt>
<dd><p>Customer service layer for accounts, payment methods, carts, showings, products, and deliveries.</p>
<p>This module centralizes customer-facing business logic on top of SQLAlchemy models,
and coordinates with user, staff, and driver services.</p>
<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.add_funds_to_payment_method">
<span class="sig-name descname"><span class="pre">add_funds_to_payment_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payment_method_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.add_funds_to_payment_method" title="Link to this definition">¶</a></dt>
<dd><p>Increase a payment method’s balance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>payment_method_id</strong> – Payment method id.</p></li>
<li><p><strong>amount</strong> – Positive decimal amount to add.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated payment method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.PaymentMethods" title="backend.app.models.PaymentMethods">PaymentMethods</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If amount is not greater than zero or method not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.add_payment_method">
<span class="sig-name descname"><span class="pre">add_payment_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">card_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiration_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiration_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">billing_address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_default</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.add_payment_method" title="Link to this definition">¶</a></dt>
<dd><p>Add a new payment method for a customer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – Customer’s user id.</p></li>
<li><p><strong>card_number</strong> – 16-character card number string.</p></li>
<li><p><strong>expiration_month</strong> – Integer month 1–12.</p></li>
<li><p><strong>expiration_year</strong> – Four-digit expiration year.</p></li>
<li><p><strong>billing_address</strong> – Billing address string.</p></li>
<li><p><strong>balance</strong> – Initial stored balance for testing/demo.</p></li>
<li><p><strong>is_default</strong> – Whether this card is the default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created payment method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.PaymentMethods" title="backend.app.models.PaymentMethods">PaymentMethods</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If a duplicate payment method exists for the same card and expiry.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.calculate_total_price">
<span class="sig-name descname"><span class="pre">calculate_total_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cart_items</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.calculate_total_price" title="Link to this definition">¶</a></dt>
<dd><p>Compute the total price for a list of cart items.</p>
<p>Total is computed as sum of (unit_price - discount) * quantity for each item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cart_items</strong> – Iterable of CartItems to price.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The total price as a Decimal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Decimal</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If a cart item is invalid or references a missing product.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.cancel_delivery">
<span class="sig-name descname"><span class="pre">cancel_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.cancel_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Cancel a delivery, set driver availability, and refund the balance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_id</strong> – Delivery id to cancel.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cancelled delivery.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the delivery is missing or already cancelled, or payment method cannot be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.charge_payment_method">
<span class="sig-name descname"><span class="pre">charge_payment_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payment_method_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_price</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.charge_payment_method" title="Link to this definition">¶</a></dt>
<dd><p>Charge a payment method for the given amount if sufficient funds exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>payment_method_id</strong> – Payment method id to charge.</p></li>
<li><p><strong>total_price</strong> – Decimal total amount to charge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if charged; False if insufficient funds.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the payment method is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.create_cart_item">
<span class="sig-name descname"><span class="pre">create_cart_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">customer_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">product_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.create_cart_item" title="Link to this definition">¶</a></dt>
<dd><p>Add a product to the cart or increment quantity if it already exists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>customer_id</strong> – Customer’s user id.</p></li>
<li><p><strong>product_id</strong> – Product id to add.</p></li>
<li><p><strong>quantity</strong> – Positive integer quantity to add.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created or updated cart item.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.CartItems" title="backend.app.models.CartItems">CartItems</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If quantity is invalid, product is not found, or insufficient inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.create_customer">
<span class="sig-name descname"><span class="pre">create_customer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_theatre_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.create_customer" title="Link to this definition">¶</a></dt>
<dd><p>Create a user with the customer role and a matching customer profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Customer full name.</p></li>
<li><p><strong>email</strong> – Unique email address.</p></li>
<li><p><strong>phone</strong> – Unique phone number.</p></li>
<li><p><strong>birthday</strong> – Date of birth (YYYY-MM-DD or date).</p></li>
<li><p><strong>password</strong> – Plaintext password to hash and store.</p></li>
<li><p><strong>role</strong> – Must be ‘customer’.</p></li>
<li><p><strong>default_theatre_id</strong> – Theatre id to set as the customer’s default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The newly created customer profile.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Customers" title="backend.app.models.Customers">Customers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If role is not ‘customer’ or the theatre id is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.create_customer_showing">
<span class="sig-name descname"><span class="pre">create_customer_showing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie_showing_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seat_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.create_customer_showing" title="Link to this definition">¶</a></dt>
<dd><p>Book a seat for a specific movie showing for a customer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – Customer’s user id.</p></li>
<li><p><strong>movie_showing_id</strong> – Target MovieShowings id.</p></li>
<li><p><strong>seat_id</strong> – Target seat id in the showing’s auditorium.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created booking record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.CustomerShowings" title="backend.app.models.CustomerShowings">CustomerShowings</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If customer, showing, seat is missing, or a duplicate booking exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.create_delivery">
<span class="sig-name descname"><span class="pre">create_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">customer_showing_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payment_method_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.create_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Create a delivery for a booked showing after validating ownership and charging.</p>
<p>This links the delivery to the customer’s showing, verifies the payment method
belongs to the same customer, creates delivery items from the cart, charges the
payment method, decrements inventory, and attempts to assign a driver and staff.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>customer_showing_id</strong> – CustomerShowings id for the booking.</p></li>
<li><p><strong>payment_method_id</strong> – PaymentMethods id to charge.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created delivery.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If duplicates exist, any referenced record is missing,
    the cart is empty, or funds are insufficient.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.create_delivery_item">
<span class="sig-name descname"><span class="pre">create_delivery_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cart_item_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.create_delivery_item" title="Link to this definition">¶</a></dt>
<dd><p>Create a DeliveryItems entry from a cart item for a pending delivery.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cart_item_id</strong> – Source cart item id.</p></li>
<li><p><strong>delivery_id</strong> – Target delivery id (must be pending).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created delivery-item record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.DeliveryItems" title="backend.app.models.DeliveryItems">DeliveryItems</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If cart item or delivery is missing, delivery not pending,
    or an identical delivery-item already exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.delete_cart_item">
<span class="sig-name descname"><span class="pre">delete_cart_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cart_item_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.delete_cart_item" title="Link to this definition">¶</a></dt>
<dd><p>Remove a cart item by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cart_item_id</strong> – Cart item id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the cart item is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.delete_customer">
<span class="sig-name descname"><span class="pre">delete_customer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.delete_customer" title="Link to this definition">¶</a></dt>
<dd><p>Delete a customer by removing the underlying user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – Customer’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the customer does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.delete_payment_method">
<span class="sig-name descname"><span class="pre">delete_payment_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">payment_method_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.delete_payment_method" title="Link to this definition">¶</a></dt>
<dd><p>Remove a payment method by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>payment_method_id</strong> – Payment method primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if deleted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the payment method does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_all_deliveries">
<span class="sig-name descname"><span class="pre">get_all_deliveries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_all_deliveries" title="Link to this definition">¶</a></dt>
<dd><p>List all deliveries for a customer (newest first).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – Customer’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Deliveries linked to the customer’s showings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_all_showings">
<span class="sig-name descname"><span class="pre">get_all_showings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_all_showings" title="Link to this definition">¶</a></dt>
<dd><p>Return showings booked by a customer with basic presentation details.</p>
<p>Each result includes movie title, seat, ISO start time, auditorium label, and theatre name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – Customer’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Presentation dictionaries for each showing.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_cart_items">
<span class="sig-name descname"><span class="pre">get_cart_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">customer_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_cart_items" title="Link to this definition">¶</a></dt>
<dd><p>Return all cart items for a customer or None if empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>customer_id</strong> – Customer’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of items if any, else None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="models.html#backend.app.models.CartItems" title="backend.app.models.CartItems">CartItems</a>] | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_customer">
<span class="sig-name descname"><span class="pre">get_customer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_customer" title="Link to this definition">¶</a></dt>
<dd><p>Fetch the customer record for a given user id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – The user id to look up.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The customer record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Customers" title="backend.app.models.Customers">Customers</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_customer_payment_methods">
<span class="sig-name descname"><span class="pre">get_customer_payment_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">customer_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_customer_payment_methods" title="Link to this definition">¶</a></dt>
<dd><p>List all payment methods for a customer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>customer_id</strong> – Customer’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>All payment methods for the customer (possibly empty).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="models.html#backend.app.models.PaymentMethods" title="backend.app.models.PaymentMethods">PaymentMethods</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_customer_showing_id">
<span class="sig-name descname"><span class="pre">get_customer_showing_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_customer_showing_id" title="Link to this definition">¶</a></dt>
<dd><p>Return the first customer showing id for a given customer.</p>
<p>Looks up the first CustomerShowings record for the provided customer user_id
and returns a minimal payload containing its id. Prints the id to stdout as
a side effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> (<em>int</em>) – The customer user’s id to search by.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary with the key “id” mapped to the showing’s integer id.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AttributeError</strong> – If no CustomerShowings record exists for the given user_id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.get_delivery_details">
<span class="sig-name descname"><span class="pre">get_delivery_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.get_delivery_details" title="Link to this definition">¶</a></dt>
<dd><p>Return expanded delivery details including items and associated theatre/movie.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_id</strong> – Delivery id to expand.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A mapping containing ids, totals, timestamps, status, items, and venue/movie details.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the delivery id is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.rate_delivery">
<span class="sig-name descname"><span class="pre">rate_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.rate_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Rate a fulfilled delivery and update the driver’s average rating.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delivery_id</strong> – Delivery id to rate.</p></li>
<li><p><strong>rating</strong> – New rating value for the driver.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rated delivery (unchanged id and status; rating stored on driver).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the underlying driver service rejects the rating.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.show_all_products">
<span class="sig-name descname"><span class="pre">show_all_products</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.show_all_products" title="Link to this definition">¶</a></dt>
<dd><p>List all available products across open suppliers, sorted by supplier and name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All available products ordered by supplier name and product name.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[<a class="reference internal" href="models.html#backend.app.models.Products" title="backend.app.models.Products">Products</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.update_cart_item">
<span class="sig-name descname"><span class="pre">update_cart_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cart_item_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.update_cart_item" title="Link to this definition">¶</a></dt>
<dd><p>Set a cart item’s quantity to a new positive value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cart_item_id</strong> – Cart item primary key.</p></li>
<li><p><strong>quantity</strong> – Positive integer quantity to set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated cart item.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.CartItems" title="backend.app.models.CartItems">CartItems</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If quantity is invalid or cart item is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.update_default_theatre">
<span class="sig-name descname"><span class="pre">update_default_theatre</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_theatre_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.update_default_theatre" title="Link to this definition">¶</a></dt>
<dd><p>Set a customer’s default theatre.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – Customer’s user id.</p></li>
<li><p><strong>new_theatre_id</strong> – Theatre id to set as default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated customer record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Customers" title="backend.app.models.Customers">Customers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If customer or theatre is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.customer_service.CustomerService.validate_customer">
<span class="sig-name descname"><span class="pre">validate_customer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.customer_service.CustomerService.validate_customer" title="Link to this definition">¶</a></dt>
<dd><p>Ensure the given user_id belongs to a customer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – The user id to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The customer record associated with user_id.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Customers" title="backend.app.models.Customers">Customers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If no customer exists for the given user_id.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-backend.app.services.user_service">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backend.app.services.user_service.</span></span><span class="sig-name descname"><span class="pre">UserService</span></span><a class="headerlink" href="#backend.app.services.user_service.UserService" title="Link to this definition">¶</a></dt>
<dd><p>Service for managing users: creation, retrieval, authentication, and updates.</p>
<p>This module encapsulates user-related operations and password handling using Argon2.</p>
<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.change_password">
<span class="sig-name descname"><span class="pre">change_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_password</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.change_password" title="Link to this definition">¶</a></dt>
<dd><p>Change a user’s password after verifying the current password.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – The user’s primary key.</p></li>
<li><p><strong>current_password</strong> – Current plaintext password.</p></li>
<li><p><strong>new_password</strong> – New plaintext password to set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user record with updated password hash.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Users" title="backend.app.models.Users">Users</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the user is missing or current password is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.check_password_hash">
<span class="sig-name descname"><span class="pre">check_password_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">password_hash</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.check_password_hash" title="Link to this definition">¶</a></dt>
<dd><p>Verify a plaintext password against a stored Argon2 hash.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>password_hash</strong> – Stored Argon2 hash.</p></li>
<li><p><strong>password</strong> – Plaintext password to verify.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the password matches the hash; otherwise False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.create_user">
<span class="sig-name descname"><span class="pre">create_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.create_user" title="Link to this definition">¶</a></dt>
<dd><p>Create a new user with uniqueness and role validation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Full name.</p></li>
<li><p><strong>email</strong> – Unique email address.</p></li>
<li><p><strong>phone</strong> – Unique phone number.</p></li>
<li><p><strong>birthday</strong> – Date of birth (YYYY-MM-DD or date).</p></li>
<li><p><strong>password</strong> – Plaintext password (will be hashed).</p></li>
<li><p><strong>role</strong> – One of ‘customer’, ‘driver’, ‘staff’, ‘supplier’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created user record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Users" title="backend.app.models.Users">Users</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any field is empty, email/phone already used, or role invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.delete_user">
<span class="sig-name descname"><span class="pre">delete_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.delete_user" title="Link to this definition">¶</a></dt>
<dd><p>Delete a user by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – The user’s primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the user was deleted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the user is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.generate_password_hash">
<span class="sig-name descname"><span class="pre">generate_password_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.generate_password_hash" title="Link to this definition">¶</a></dt>
<dd><p>Generate a secure Argon2 hash for a plaintext password.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>password</strong> – Plaintext password.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Encoded Argon2 hash string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.get_user">
<span class="sig-name descname"><span class="pre">get_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.get_user" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve a user by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – The user’s primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user if found; otherwise None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Users" title="backend.app.models.Users">Users</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.update_user_profile">
<span class="sig-name descname"><span class="pre">update_user_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthday</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.update_user_profile" title="Link to this definition">¶</a></dt>
<dd><p>Update user profile fields with non-empty and uniqueness checks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – The user’s primary key.</p></li>
<li><p><strong>name</strong> – New name.</p></li>
<li><p><strong>email</strong> – New email (must be unique).</p></li>
<li><p><strong>phone</strong> – New phone (must be unique).</p></li>
<li><p><strong>birthday</strong> – New birthday.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated user record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Users" title="backend.app.models.Users">Users</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the user is missing, any field is empty, or email/phone duplicates another user.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.user_service.UserService.validate_credentials">
<span class="sig-name descname"><span class="pre">validate_credentials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.user_service.UserService.validate_credentials" title="Link to this definition">¶</a></dt>
<dd><p>Validate user credentials and return the user if valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>email</strong> – User email address.</p></li>
<li><p><strong>password</strong> – Plaintext password.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The user object if credentials are correct; otherwise None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Users" title="backend.app.models.Users">Users</a> | None</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If email or password is empty.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-backend.app.services.driver_service">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backend.app.services.driver_service.</span></span><span class="sig-name descname"><span class="pre">DriverService</span></span><a class="headerlink" href="#backend.app.services.driver_service.DriverService" title="Link to this definition">¶</a></dt>
<dd><p>Service layer for driver accounts and delivery operations.</p>
<p>This module provides validation utilities and operations for drivers,
plus helpers for assignment, completion, rating, and basic queries.</p>
<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.complete_delivery">
<span class="sig-name descname"><span class="pre">complete_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.complete_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Mark an accepted delivery as delivered and update driver stats.</p>
<p>Increments driver’s total_deliveries, sets delivery_status to ‘delivered’,
and moves driver back to ‘available’. Requires driver to be ‘on_delivery’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_id</strong> – The delivery id to complete.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated delivery record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If delivery is missing, not accepted, driver missing,
    or driver is not currently ‘on_delivery’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.create_driver">
<span class="sig-name descname"><span class="pre">create_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_plate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duty_status</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_deliveries</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.create_driver" title="Link to this definition">¶</a></dt>
<dd><p>Create a user with the driver role and matching driver record.</p>
<p>Validation is performed for all driver-specific fields before creation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Driver full name.</p></li>
<li><p><strong>email</strong> – Unique email address.</p></li>
<li><p><strong>phone</strong> – Unique phone number.</p></li>
<li><p><strong>birthday</strong> – Date of birth (YYYY-MM-DD or date).</p></li>
<li><p><strong>password</strong> – Plaintext password (will be hashed).</p></li>
<li><p><strong>role</strong> – Must be ‘driver’.</p></li>
<li><p><strong>license_plate</strong> – Plate string (≤16 chars).</p></li>
<li><p><strong>vehicle_type</strong> – One of ‘car’, ‘bike’, ‘scooter’, ‘other’.</p></li>
<li><p><strong>vehicle_color</strong> – Color string (≤16 chars).</p></li>
<li><p><strong>duty_status</strong> – One of ‘unavailable’, ‘available’, ‘on_delivery’.</p></li>
<li><p><strong>rating</strong> – Initial rating in [0.00, 5.00].</p></li>
<li><p><strong>total_deliveries</strong> – Initial completed deliveries count (≥0).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created driver record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If role is not ‘driver’ or any validation fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.delete_driver">
<span class="sig-name descname"><span class="pre">delete_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.delete_driver" title="Link to this definition">¶</a></dt>
<dd><p>Delete a driver by removing the underlying user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – Driver’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if deletion succeeded.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the driver does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.get_active_delivery">
<span class="sig-name descname"><span class="pre">get_active_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.get_active_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Return the driver’s active delivery if one exists.</p>
<p>Active statuses include: ‘pending’, ‘accepted’, ‘in_progress’,
‘ready_for_pickup’, ‘in_transit’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>driver_id</strong> – Driver’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The active delivery.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If no active delivery is found for the driver.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.get_available_drivers">
<span class="sig-name descname"><span class="pre">get_available_drivers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.get_available_drivers" title="Link to this definition">¶</a></dt>
<dd><p>Return all drivers currently marked as available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Available driver records (possibly empty).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[<a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.get_best_available_driver">
<span class="sig-name descname"><span class="pre">get_best_available_driver</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.get_best_available_driver" title="Link to this definition">¶</a></dt>
<dd><p>Return the highest-rated available driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The best available driver or None if none available.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.rate_driver">
<span class="sig-name descname"><span class="pre">rate_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_rating</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.rate_driver" title="Link to this definition">¶</a></dt>
<dd><p>Rate the driver for a fulfilled delivery and update the average.</p>
<p>If the driver has no prior deliveries, the rating is set directly;
otherwise the new average is computed from the existing rating and count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delivery_id</strong> – The delivery id to rate.</p></li>
<li><p><strong>new_rating</strong> – The rating value to apply.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated driver and delivery.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[<a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a>, <a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a>]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If delivery is missing, not fulfilled, already rated,
    driver missing, or rating invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.show_completed_deliveries">
<span class="sig-name descname"><span class="pre">show_completed_deliveries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.show_completed_deliveries" title="Link to this definition">¶</a></dt>
<dd><p>List all fulfilled deliveries for the given driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>driver_id</strong> – Driver’s user id.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fulfilled deliveries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a>]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the driver has no previous fulfilled deliveries.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.try_assign_driver">
<span class="sig-name descname"><span class="pre">try_assign_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.try_assign_driver" title="Link to this definition">¶</a></dt>
<dd><p>Assign the best available driver to a delivery.</p>
<p>Sets delivery.driver_id, updates delivery_status to ‘accepted’,
and moves the driver’s duty status to ‘on_delivery’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery</strong> – A Deliveries model instance to be assigned.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if assignment succeeded; False if no drivers available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the delivery reference is missing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.update_driver_details">
<span class="sig-name descname"><span class="pre">update_driver_details</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_plate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vehicle_color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.update_driver_details" title="Link to this definition">¶</a></dt>
<dd><p>Update a driver’s plate, vehicle type, and color.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – Driver’s user id.</p></li>
<li><p><strong>license_plate</strong> – New plate string.</p></li>
<li><p><strong>vehicle_type</strong> – New vehicle type.</p></li>
<li><p><strong>vehicle_color</strong> – New color string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated driver record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the driver doesn’t exist or plate is already used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.update_driver_status">
<span class="sig-name descname"><span class="pre">update_driver_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.update_driver_status" title="Link to this definition">¶</a></dt>
<dd><p>Set the duty status for a given driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_id</strong> – Driver’s user id.</p></li>
<li><p><strong>new_status</strong> – New duty status string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated driver record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the driver doesn’t exist or status is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_driver">
<span class="sig-name descname"><span class="pre">validate_driver</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_driver" title="Link to this definition">¶</a></dt>
<dd><p>Ensure the given user_id belongs to a driver.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_id</strong> – The user’s id to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The driver record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Drivers" title="backend.app.models.Drivers">Drivers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If no driver exists for the provided id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_duty_status">
<span class="sig-name descname"><span class="pre">validate_duty_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">duty_status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_duty_status" title="Link to this definition">¶</a></dt>
<dd><p>Validate driver duty status against the allowed set.</p>
<p>Allowed values: ‘unavailable’, ‘available’, ‘on_delivery’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>duty_status</strong> – The status to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The validated duty status.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not a string or not in the allowed set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_license_plate">
<span class="sig-name descname"><span class="pre">validate_license_plate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_plate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_license_plate" title="Link to this definition">¶</a></dt>
<dd><p>Validate a license plate string (non-empty, ≤16 chars).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>license_plate</strong> – The plate value to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized plate string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not a string, empty/whitespace, or longer than 16.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_rating">
<span class="sig-name descname"><span class="pre">validate_rating</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rating</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_rating" title="Link to this definition">¶</a></dt>
<dd><p>Validate a numeric rating in the inclusive range [0.00, 5.00].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rating</strong> – A number (int/float/Decimal-like) to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized rating as Decimal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Decimal</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not numeric or out of bounds.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_total_deliveries">
<span class="sig-name descname"><span class="pre">validate_total_deliveries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total_deliveries</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_total_deliveries" title="Link to this definition">¶</a></dt>
<dd><p>Validate total deliveries as a non-negative integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>total_deliveries</strong> – The count to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized deliveries count.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not an integer or negative.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_vehicle_color">
<span class="sig-name descname"><span class="pre">validate_vehicle_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vehicle_color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_vehicle_color" title="Link to this definition">¶</a></dt>
<dd><p>Validate vehicle color string (non-empty, ≤16 chars).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vehicle_color</strong> – The color to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The normalized color string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not a string, empty/whitespace, or longer than 16.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.driver_service.DriverService.validate_vehicle_type">
<span class="sig-name descname"><span class="pre">validate_vehicle_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vehicle_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.driver_service.DriverService.validate_vehicle_type" title="Link to this definition">¶</a></dt>
<dd><p>Validate vehicle type against the allowed set.</p>
<p>Allowed values: ‘car’, ‘bike’, ‘scooter’, ‘other’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>vehicle_type</strong> – The vehicle type to validate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The validated vehicle type.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not a string or not in the allowed set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-backend.app.services.supplier_service">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backend.app.services.supplier_service.</span></span><span class="sig-name descname"><span class="pre">SupplierService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService" title="Link to this definition">¶</a></dt>
<dd><p>Business logic for supplier profiles and product/catalog management.</p>
<p>This service validates supplier identity and provides operations to view and
update supplier details, manage products, and list open suppliers.</p>
<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.add_product">
<span class="sig-name descname"><span class="pre">add_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inventory_quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_available</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.add_product" title="Link to this definition">¶</a></dt>
<dd><p>Create a new product for the current supplier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Product name.</p></li>
<li><p><strong>unit_price</strong> – Unit price as numeric/Decimal-compatible value.</p></li>
<li><p><strong>inventory_quantity</strong> – Initial inventory quantity (non-negative).</p></li>
<li><p><strong>size</strong> – Optional size (e.g., ‘small’, ‘medium’, ‘large’ or None).</p></li>
<li><p><strong>keywords</strong> – Optional search keywords.</p></li>
<li><p><strong>category</strong> – Product category (must satisfy DB enum).</p></li>
<li><p><strong>discount</strong> – Per-unit discount value (non-negative).</p></li>
<li><p><strong>is_available</strong> – Whether the product is available for ordering.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The newly created product.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Products" title="backend.app.models.Products">Products</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the supplier record does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.edit_product">
<span class="sig-name descname"><span class="pre">edit_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inventory_quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">category</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_available</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.edit_product" title="Link to this definition">¶</a></dt>
<dd><p>Edit a product owned by the current supplier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>product_id</strong> – Product primary key.</p></li>
<li><p><strong>name</strong> – New product name.</p></li>
<li><p><strong>unit_price</strong> – New unit price.</p></li>
<li><p><strong>inventory_quantity</strong> – New inventory quantity.</p></li>
<li><p><strong>size</strong> – New size value or None.</p></li>
<li><p><strong>keywords</strong> – New keywords string.</p></li>
<li><p><strong>category</strong> – New category value.</p></li>
<li><p><strong>discount</strong> – New discount value.</p></li>
<li><p><strong>is_available</strong> – New availability flag.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated product.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Products" title="backend.app.models.Products">Products</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the supplier record does not exist or product is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.edit_supplier">
<span class="sig-name descname"><span class="pre">edit_supplier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">company_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">company_address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contact_phone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_open</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.edit_supplier" title="Link to this definition">¶</a></dt>
<dd><p>Update supplier profile fields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>company_name</strong> – New company name.</p></li>
<li><p><strong>company_address</strong> – New company address.</p></li>
<li><p><strong>contact_phone</strong> – New contact phone number.</p></li>
<li><p><strong>is_open</strong> – Whether the supplier is currently open.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated supplier record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Suppliers" title="backend.app.models.Suppliers">Suppliers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the supplier record does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.get_all_suppliers">
<span class="sig-name descname"><span class="pre">get_all_suppliers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.get_all_suppliers" title="Link to this definition">¶</a></dt>
<dd><p>Return all open suppliers ordered by company name.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Open suppliers sorted ascending by company name.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[<a class="reference internal" href="models.html#backend.app.models.Suppliers" title="backend.app.models.Suppliers">Suppliers</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.get_products">
<span class="sig-name descname"><span class="pre">get_products</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.get_products" title="Link to this definition">¶</a></dt>
<dd><p>List all products owned by the current supplier.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All product rows for this supplier (possibly empty).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[<a class="reference internal" href="models.html#backend.app.models.Products" title="backend.app.models.Products">Products</a>]</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the supplier record does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.get_supplier">
<span class="sig-name descname"><span class="pre">get_supplier</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.get_supplier" title="Link to this definition">¶</a></dt>
<dd><p>Return the supplier record for the current context user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The supplier record associated with self.user_id.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#backend.app.models.Suppliers" title="backend.app.models.Suppliers">Suppliers</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the supplier record does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.remove_product">
<span class="sig-name descname"><span class="pre">remove_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">product_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.remove_product" title="Link to this definition">¶</a></dt>
<dd><p>Delete a product by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>product_id</strong> – Product primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the supplier record does not exist or product is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.set_is_open">
<span class="sig-name descname"><span class="pre">set_is_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_open</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.set_is_open" title="Link to this definition">¶</a></dt>
<dd><p>Set the supplier’s open/closed status.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>is_open</strong> – Boolean open flag to set.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated supplier record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Suppliers" title="backend.app.models.Suppliers">Suppliers</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the supplier record does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.supplier_service.SupplierService.validate_supplier">
<span class="sig-name descname"><span class="pre">validate_supplier</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.supplier_service.SupplierService.validate_supplier" title="Link to this definition">¶</a></dt>
<dd><p>Validate that the current user id belongs to a supplier.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The supplier record.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#backend.app.models.Suppliers" title="backend.app.models.Suppliers">Suppliers</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the supplier record does not exist.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-backend.app.services.staff_service">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">backend.app.services.staff_service.</span></span><span class="sig-name descname"><span class="pre">StaffService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService" title="Link to this definition">¶</a></dt>
<dd><p>Service layer for staff profiles, authorization checks, theatre/movie management,
and delivery maintenance operations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.accept_delivery">
<span class="sig-name descname"><span class="pre">accept_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.accept_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Accept a pending delivery for the current staff member.</p>
<p>Sets the delivery staff_id, moves status to ‘accepted’, and marks
the staff member unavailable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_id</strong> – Delivery primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated delivery.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If staff not available, delivery missing, or not pending.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.add_movie">
<span class="sig-name descname"><span class="pre">add_movie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genre</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">release_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.add_movie" title="Link to this definition">¶</a></dt>
<dd><p>Create a movie (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> – Movie title.</p></li>
<li><p><strong>genre</strong> – Movie genre.</p></li>
<li><p><strong>length_mins</strong> – Duration in minutes.</p></li>
<li><p><strong>release_year</strong> – Year of release.</p></li>
<li><p><strong>keywords</strong> – Search keywords.</p></li>
<li><p><strong>rating</strong> – Decimal or float rating in model-defined bounds.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created movie.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Movies" title="backend.app.models.Movies">Movies</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If acting user is not admin.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.add_showing">
<span class="sig-name descname"><span class="pre">add_showing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movie_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auditorium_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.add_showing" title="Link to this definition">¶</a></dt>
<dd><p>Create a movie showing (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>movie_id</strong> – Movie id to show.</p></li>
<li><p><strong>auditorium_id</strong> – Auditorium id where it screens.</p></li>
<li><p><strong>start_time</strong> – datetime start time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created showing.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.MovieShowings" title="backend.app.models.MovieShowings">MovieShowings</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If acting user is not admin, movie/auditorium missing,
    or start_time is not a datetime.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.add_staff">
<span class="sig-name descname"><span class="pre">add_staff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phone</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">birthday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theatre_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.add_staff" title="Link to this definition">¶</a></dt>
<dd><p>Create a new staff user and staff record (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Staff member name.</p></li>
<li><p><strong>email</strong> – Unique email for the new staff user.</p></li>
<li><p><strong>phone</strong> – Unique phone for the new staff user.</p></li>
<li><p><strong>birthday</strong> – Date of birth (YYYY-MM-DD or date).</p></li>
<li><p><strong>password</strong> – Plaintext password to hash.</p></li>
<li><p><strong>theatre_id</strong> – Theatre id for the staff assignment.</p></li>
<li><p><strong>role</strong> – ‘admin’ or ‘runner’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The created staff record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the acting user is not admin or role is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.edit_movie">
<span class="sig-name descname"><span class="pre">edit_movie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movie_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genre</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_mins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">release_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rating</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.edit_movie" title="Link to this definition">¶</a></dt>
<dd><p>Edit a movie by id (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>movie_id</strong> – Movie primary key.</p></li>
<li><p><strong>title</strong> – New title.</p></li>
<li><p><strong>genre</strong> – New genre.</p></li>
<li><p><strong>length_mins</strong> – New duration in minutes.</p></li>
<li><p><strong>release_year</strong> – New release year.</p></li>
<li><p><strong>keywords</strong> – New keywords.</p></li>
<li><p><strong>rating</strong> – New rating.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated movie.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Movies" title="backend.app.models.Movies">Movies</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If acting user is not admin or movie not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.edit_showing">
<span class="sig-name descname"><span class="pre">edit_showing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">showing_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">movie_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auditorium_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.edit_showing" title="Link to this definition">¶</a></dt>
<dd><p>Edit a movie showing (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>showing_id</strong> – Showing primary key.</p></li>
<li><p><strong>movie_id</strong> – New movie id.</p></li>
<li><p><strong>auditorium_id</strong> – New auditorium id.</p></li>
<li><p><strong>start_time</strong> – New datetime start time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated showing.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.MovieShowings" title="backend.app.models.MovieShowings">MovieShowings</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If acting user is not admin, any id not found,
    or start_time is not a datetime.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.fulfill_delivery">
<span class="sig-name descname"><span class="pre">fulfill_delivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.fulfill_delivery" title="Link to this definition">¶</a></dt>
<dd><p>Mark a delivered order as fulfilled and free up the staff member.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_id</strong> – Delivery primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated delivery.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If delivery missing or status is not ‘delivered’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.get_available_staff">
<span class="sig-name descname"><span class="pre">get_available_staff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theatre_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.get_available_staff" title="Link to this definition">¶</a></dt>
<dd><p>Return the next available staff member at a theatre (oldest update first).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>theatre_id</strong> – Theatre identifier.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The selected staff member or None if none available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a> | None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.get_staff">
<span class="sig-name descname"><span class="pre">get_staff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">staff_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.get_staff" title="Link to this definition">¶</a></dt>
<dd><p>Return a staff record by user id (staff only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>staff_id</strong> – Staff user id to fetch.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The staff record or None if not found.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a> | None</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the acting user is not staff.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.get_theatres">
<span class="sig-name descname"><span class="pre">get_theatres</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.get_theatres" title="Link to this definition">¶</a></dt>
<dd><p>Return all theatres.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All theatres in the system.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list[<a class="reference internal" href="models.html#backend.app.models.Theatres" title="backend.app.models.Theatres">Theatres</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.remove_movie">
<span class="sig-name descname"><span class="pre">remove_movie</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movie_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.remove_movie" title="Link to this definition">¶</a></dt>
<dd><p>Delete a movie by id (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>movie_id</strong> – Movie primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If acting user is not admin or movie not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.remove_showing">
<span class="sig-name descname"><span class="pre">remove_showing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">showing_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.remove_showing" title="Link to this definition">¶</a></dt>
<dd><p>Delete a movie showing by id (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>showing_id</strong> – Showing primary key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If acting user is not admin or showing not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.remove_staff">
<span class="sig-name descname"><span class="pre">remove_staff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">staff_user_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.remove_staff" title="Link to this definition">¶</a></dt>
<dd><p>Remove a staff user and associated staff record (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>staff_user_id</strong> – The user id of the staff member to remove.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the acting user is not admin or the staff user is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.set_availability">
<span class="sig-name descname"><span class="pre">set_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">is_available</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.set_availability" title="Link to this definition">¶</a></dt>
<dd><p>Set the current staff member’s availability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>is_available</strong> – Boolean availability flag.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated staff record.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the user is not a staff member.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.set_theatre_status">
<span class="sig-name descname"><span class="pre">set_theatre_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theatre_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_open</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.set_theatre_status" title="Link to this definition">¶</a></dt>
<dd><p>Set open/closed status for a theatre (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theatre_id</strong> – Target theatre id.</p></li>
<li><p><strong>is_open</strong> – Boolean open flag to set.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The updated theatre.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="models.html#backend.app.models.Theatres" title="backend.app.models.Theatres">Theatres</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If acting user is not admin or the theatre id is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.show_all_deliveries">
<span class="sig-name descname"><span class="pre">show_all_deliveries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theatre_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.show_all_deliveries" title="Link to this definition">¶</a></dt>
<dd><p>List all deliveries related to a theatre (staff only).</p>
<p>Orders by delivery status then id descending.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>theatre_id</strong> – Theatre identifier.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Matching deliveries.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="models.html#backend.app.models.Deliveries" title="backend.app.models.Deliveries">Deliveries</a>]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the acting user is not staff.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.show_all_staff">
<span class="sig-name descname"><span class="pre">show_all_staff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theatre_id</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.show_all_staff" title="Link to this definition">¶</a></dt>
<dd><p>List all staff at a theatre (admin only).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>theatre_id</strong> – Theatre identifier.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Staff ordered by user id.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a>]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the acting user is not admin.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.try_assign_staff">
<span class="sig-name descname"><span class="pre">try_assign_staff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">theatre_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.try_assign_staff" title="Link to this definition">¶</a></dt>
<dd><p>Assign an available staff member to a delivery if possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>theatre_id</strong> – Theatre to search at.</p></li>
<li><p><strong>delivery</strong> – Delivery instance to assign.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if an assignment occurred, else False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the delivery reference is missing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.validate_admin">
<span class="sig-name descname"><span class="pre">validate_admin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.validate_admin" title="Link to this definition">¶</a></dt>
<dd><p>Ensure the current user is a staff admin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The admin staff record.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the user is not a staff admin.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="backend.app.services.staff_service.StaffService.validate_staff">
<span class="sig-name descname"><span class="pre">validate_staff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#backend.app.services.staff_service.StaffService.validate_staff" title="Link to this definition">¶</a></dt>
<dd><p>Ensure the current user is a staff member (any role).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The staff record.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="models.html#backend.app.models.Staff" title="backend.app.models.Staff">Staff</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the user is not a staff member.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="models.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Data Models</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="routes.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">API Routes</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Jacob Phillips, Aadya Maurya, Janelle Correia, Galav Sharma, Aarya Rajoju
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Service Layer</a><ul>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService"><code class="docutils literal notranslate"><span class="pre">CustomerService</span></code></a><ul>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.add_funds_to_payment_method"><code class="docutils literal notranslate"><span class="pre">CustomerService.add_funds_to_payment_method()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.add_payment_method"><code class="docutils literal notranslate"><span class="pre">CustomerService.add_payment_method()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.calculate_total_price"><code class="docutils literal notranslate"><span class="pre">CustomerService.calculate_total_price()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.cancel_delivery"><code class="docutils literal notranslate"><span class="pre">CustomerService.cancel_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.charge_payment_method"><code class="docutils literal notranslate"><span class="pre">CustomerService.charge_payment_method()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.create_cart_item"><code class="docutils literal notranslate"><span class="pre">CustomerService.create_cart_item()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.create_customer"><code class="docutils literal notranslate"><span class="pre">CustomerService.create_customer()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.create_customer_showing"><code class="docutils literal notranslate"><span class="pre">CustomerService.create_customer_showing()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.create_delivery"><code class="docutils literal notranslate"><span class="pre">CustomerService.create_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.create_delivery_item"><code class="docutils literal notranslate"><span class="pre">CustomerService.create_delivery_item()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.delete_cart_item"><code class="docutils literal notranslate"><span class="pre">CustomerService.delete_cart_item()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.delete_customer"><code class="docutils literal notranslate"><span class="pre">CustomerService.delete_customer()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.delete_payment_method"><code class="docutils literal notranslate"><span class="pre">CustomerService.delete_payment_method()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_all_deliveries"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_all_deliveries()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_all_showings"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_all_showings()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_cart_items"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_cart_items()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_customer"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_customer()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_customer_payment_methods"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_customer_payment_methods()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_customer_showing_id"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_customer_showing_id()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.get_delivery_details"><code class="docutils literal notranslate"><span class="pre">CustomerService.get_delivery_details()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.rate_delivery"><code class="docutils literal notranslate"><span class="pre">CustomerService.rate_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.show_all_products"><code class="docutils literal notranslate"><span class="pre">CustomerService.show_all_products()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.update_cart_item"><code class="docutils literal notranslate"><span class="pre">CustomerService.update_cart_item()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.update_default_theatre"><code class="docutils literal notranslate"><span class="pre">CustomerService.update_default_theatre()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.customer_service.CustomerService.validate_customer"><code class="docutils literal notranslate"><span class="pre">CustomerService.validate_customer()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService"><code class="docutils literal notranslate"><span class="pre">UserService</span></code></a><ul>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.change_password"><code class="docutils literal notranslate"><span class="pre">UserService.change_password()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.check_password_hash"><code class="docutils literal notranslate"><span class="pre">UserService.check_password_hash()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.create_user"><code class="docutils literal notranslate"><span class="pre">UserService.create_user()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.delete_user"><code class="docutils literal notranslate"><span class="pre">UserService.delete_user()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.generate_password_hash"><code class="docutils literal notranslate"><span class="pre">UserService.generate_password_hash()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.get_user"><code class="docutils literal notranslate"><span class="pre">UserService.get_user()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.update_user_profile"><code class="docutils literal notranslate"><span class="pre">UserService.update_user_profile()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.user_service.UserService.validate_credentials"><code class="docutils literal notranslate"><span class="pre">UserService.validate_credentials()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService"><code class="docutils literal notranslate"><span class="pre">DriverService</span></code></a><ul>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.complete_delivery"><code class="docutils literal notranslate"><span class="pre">DriverService.complete_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.create_driver"><code class="docutils literal notranslate"><span class="pre">DriverService.create_driver()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.delete_driver"><code class="docutils literal notranslate"><span class="pre">DriverService.delete_driver()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.get_active_delivery"><code class="docutils literal notranslate"><span class="pre">DriverService.get_active_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.get_available_drivers"><code class="docutils literal notranslate"><span class="pre">DriverService.get_available_drivers()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.get_best_available_driver"><code class="docutils literal notranslate"><span class="pre">DriverService.get_best_available_driver()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.rate_driver"><code class="docutils literal notranslate"><span class="pre">DriverService.rate_driver()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.show_completed_deliveries"><code class="docutils literal notranslate"><span class="pre">DriverService.show_completed_deliveries()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.try_assign_driver"><code class="docutils literal notranslate"><span class="pre">DriverService.try_assign_driver()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.update_driver_details"><code class="docutils literal notranslate"><span class="pre">DriverService.update_driver_details()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.update_driver_status"><code class="docutils literal notranslate"><span class="pre">DriverService.update_driver_status()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_driver"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_driver()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_duty_status"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_duty_status()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_license_plate"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_license_plate()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_rating"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_rating()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_total_deliveries"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_total_deliveries()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_vehicle_color"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_vehicle_color()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.driver_service.DriverService.validate_vehicle_type"><code class="docutils literal notranslate"><span class="pre">DriverService.validate_vehicle_type()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService"><code class="docutils literal notranslate"><span class="pre">SupplierService</span></code></a><ul>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.add_product"><code class="docutils literal notranslate"><span class="pre">SupplierService.add_product()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.edit_product"><code class="docutils literal notranslate"><span class="pre">SupplierService.edit_product()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.edit_supplier"><code class="docutils literal notranslate"><span class="pre">SupplierService.edit_supplier()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.get_all_suppliers"><code class="docutils literal notranslate"><span class="pre">SupplierService.get_all_suppliers()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.get_products"><code class="docutils literal notranslate"><span class="pre">SupplierService.get_products()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.get_supplier"><code class="docutils literal notranslate"><span class="pre">SupplierService.get_supplier()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.remove_product"><code class="docutils literal notranslate"><span class="pre">SupplierService.remove_product()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.set_is_open"><code class="docutils literal notranslate"><span class="pre">SupplierService.set_is_open()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.supplier_service.SupplierService.validate_supplier"><code class="docutils literal notranslate"><span class="pre">SupplierService.validate_supplier()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService"><code class="docutils literal notranslate"><span class="pre">StaffService</span></code></a><ul>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.accept_delivery"><code class="docutils literal notranslate"><span class="pre">StaffService.accept_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.add_movie"><code class="docutils literal notranslate"><span class="pre">StaffService.add_movie()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.add_showing"><code class="docutils literal notranslate"><span class="pre">StaffService.add_showing()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.add_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.add_staff()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.edit_movie"><code class="docutils literal notranslate"><span class="pre">StaffService.edit_movie()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.edit_showing"><code class="docutils literal notranslate"><span class="pre">StaffService.edit_showing()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.fulfill_delivery"><code class="docutils literal notranslate"><span class="pre">StaffService.fulfill_delivery()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.get_available_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.get_available_staff()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.get_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.get_staff()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.get_theatres"><code class="docutils literal notranslate"><span class="pre">StaffService.get_theatres()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.remove_movie"><code class="docutils literal notranslate"><span class="pre">StaffService.remove_movie()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.remove_showing"><code class="docutils literal notranslate"><span class="pre">StaffService.remove_showing()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.remove_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.remove_staff()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.set_availability"><code class="docutils literal notranslate"><span class="pre">StaffService.set_availability()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.set_theatre_status"><code class="docutils literal notranslate"><span class="pre">StaffService.set_theatre_status()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.show_all_deliveries"><code class="docutils literal notranslate"><span class="pre">StaffService.show_all_deliveries()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.show_all_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.show_all_staff()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.try_assign_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.try_assign_staff()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.validate_admin"><code class="docutils literal notranslate"><span class="pre">StaffService.validate_admin()</span></code></a></li>
<li><a class="reference internal" href="#backend.app.services.staff_service.StaffService.validate_staff"><code class="docutils literal notranslate"><span class="pre">StaffService.validate_staff()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5cb08e4e"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>